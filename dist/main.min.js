(()=>{"use strict";var t,e={811:(t,e,n)=>{n(4994),n(853),n(8821),n(3290),n(4845),n(5007),n(9275),n(6364),n(6632),n(1928),n(4883),n(8995);var r=n(3653),o=n(6075),i=n(636),a={scene:new o.xsS,gltfLoader:new i.E,mixer:void 0,world:new r.q3,defaultMaterial:new r.F5("default"),glassMaterial:new r.F5("glass"),playerMaterial:new r.F5("player")},c={backgroundColor:"#3e1322",lightColor:"#ffe9ac",lightOffColor:"#222",pillarColor:"#071d28",floorColor:"#111",barColor:"#441c1d",glassColor:"#9fdfff",step:0},u={pillar:new o.DvJ(5,10,5),floor:new o.DvJ(200,1,200),bar:new o.DvJ(.1,.3,25.2),sideLight:new o.xo$(.1,6,6),glass:new o.DvJ(1.2,.05,1.2)},s={pillar:new o.xoR({color:c.pillarColor}),floor:new o.xoR({color:c.floorColor}),bar:new o.xoR({color:c.barColor}),sideLight:new o.xoR({color:c.lightColor}),glass1:new o.xoR({color:c.glassColor,transparent:!0,opacity:.1}),glass2:new o.xoR({color:c.glassColor,transparent:!0,opacity:.1})},l=new Audio;l.src="./sounds/Crash .mp3";var f=new Audio;f.src="./sounds/Wood Hit Metal Crash.mp3";var p={normal:l,strong:f},y=n(8012),m=n(5435);n(6908),n(4130),n(6543),n(3142),n(174);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===h(i)?i:String(i)),r)}var o,i}var b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.rotationX=e.rotationX||0,this.rotationY=e.rotationY||0,this.rotationZ=e.rotationZ||0,this.mass=e.mass||0,this.cannonMaterial=e.cannonMaterial||a.defaultMaterial}var e,n,o;return e=t,(n=[{key:"setCannonBody",value:function(){var t=this.cannonMaterial,e=new r.xu(new r.AO(this.width/2,this.height/2,this.depth/2));this.cannonBody=new r.uT({mass:this.mass,position:new r.AO(this.x,this.y,this.z),shape:e,material:t}),this.cannonBody.quaternion.setFromAxisAngle(new r.AO(0,1,0),this.rotationY),a.world.addBody(this.cannonBody)}}])&&d(e.prototype,n),o&&d(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===v(i)?i:String(i)),r)}var o,i}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j(t);if(e){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(c,t);var e,n,r,i=O(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).geometry=u.pillar,e.matrial=s.pillar,e.width=e.geometry.parameters.width,e.height=e.geometry.parameters.height,e.depth=e.geometry.parameters.depth,e.mesh=new o.Kj0(e.geometry,e.matrial),e.mesh.position.set(e.x,e.y,e.z),e.mesh.castShadow=!0,e.mesh.receiveShadow=!0,a.scene.add(e.mesh),e.setCannonBody(),e}return e=c,n&&w(e.prototype,n),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(b);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==P(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===P(i)?i:String(i)),r)}var o,i}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_(t);if(e){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(c,t);var e,n,r,i=E(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).geometry=u.floor,e.material=s.floor,e.width=e.geometry.parameters.width,e.height=e.geometry.parameters.height,e.depth=e.geometry.parameters.depth,e.mesh=new o.Kj0(e.geometry,e.material),e.mesh.position.set(e.x,e.y,e.z),e.mesh.receiveShadow=!0,a.scene.add(e.mesh),e.setCannonBody(),e}return e=c,n&&x(e.prototype,n),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(b);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==R(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===R(i)?i:String(i)),r)}var o,i}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=k(t);if(e){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(c,t);var e,n,r,i=z(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).geometry=u.bar,e.matrial=s.bar,e.width=e.geometry.parameters.width,e.height=e.geometry.parameters.height,e.depth=e.geometry.parameters.depth,e.mesh=new o.Kj0(e.geometry,e.matrial),e.mesh.position.set(e.x,e.y,e.z),e.mesh.castShadow=!0,e.mesh.receiveShadow=!0,a.scene.add(e.mesh),e.setCannonBody(),e}return e=c,n&&T(e.prototype,n),r&&T(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(b);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===L(i)?i:String(i)),r)}var o,i}var q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.container||a.scene;this.name=e.name||"",this.x=e.x||0,this.y=e.y||0,this.z=e.z||0,this.geometry=u.sideLight,this.matrial=s.sideLight,this.mesh=new o.Kj0(this.geometry,this.matrial),this.mesh.position.set(this.x,this.y,this.z),n.add(this.mesh)}var e,n,r;return e=t,(n=[{key:"turnOff",value:function(){this.mesh.material.color.set(c.lightOffColor)}}])&&D(e.prototype,n),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==N(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===N(i)?i:String(i)),r)}var o,i}function F(t,e){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},F(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=H(t);if(e){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}(c,t);var e,n,r,i=X(c);function c(t){var e;switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).type=t.type,e.step=t.step,e.geometry=u.glass,e.type){case"normal":e.matrial=s.glass1,e.mass=1;break;case"strong":e.matrial=s.glass2,e.mass=0}e.width=e.geometry.parameters.width,e.height=e.geometry.parameters.height,e.depth=e.geometry.parameters.depth,e.mesh=new o.Kj0(e.geometry,e.matrial),e.mesh.position.set(e.x,e.y,e.z),e.mesh.castShadow=!0,e.mesh.receiveShadow=!0,e.mesh.name=e.name,e.mesh.step=e.step,e.mesh.type=e.type,a.scene.add(e.mesh),e.setCannonBody(),e.cannonBody.addEventListener("collide",(function(t){t.contact.getImpactVelocityAlongNormal()>5&&(n.currentTime=0,n.play())}));var n=p[e.type];return e}return e=c,n&&Y(e.prototype,n),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(b);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===W(i)?i:String(i)),r)}var o,i}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},J(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=U(t);if(e){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}var $=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}(c,t);var e,n,r,i=Z(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).width=.5,e.height=.5,e.depth=.5,a.gltfLoader.load("./models/ilbuni.glb",(function(t){t.scene.traverse((function(t){t.isMesh&&(t.castShadow=!0)})),e.modelMesh=t.scene.children[0],e.modelMesh.position.set(e.x,e.y,e.z),e.modelMesh.rotation.set(e.rotationX,e.rotationY,e.rotationZ),e.modelMesh.castShadow=!0,a.scene.add(e.modelMesh),e.modelMesh.animations=t.animations,a.mixer=new o.Xcj(e.modelMesh),e.actions=[],e.actions[0]=a.mixer.clipAction(e.modelMesh.animations[0]),e.actions[1]=a.mixer.clipAction(e.modelMesh.animations[1]),e.actions[2]=a.mixer.clipAction(e.modelMesh.animations[2]),e.actions[2].repetitions=1,e.actions[0].play(),e.setCannonBody()})),e}return e=c,n&&K(e.prototype,n),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(b);function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==V(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===V(i)?i:String(i)),r)}var o,i}function Q(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var tt=Q((function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.mouseMoved,e.addEventListener("mousedown",(function(t){n=t.clientX,r=t.clientY,o=Date.now()})),e.addEventListener("mouseup",(function(t){var e=Math.abs(t.clientX-n),a=Math.abs(t.clientY-r),c=Date.now()-o;i.mouseMoved=e>5||a>5||c>500}))}));function et(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rt=document.querySelector("#three-canvas"),ot=new o.CP7({canvas:rt,antialias:!0});ot.setSize(window.innerWidth,window.innerHeight),ot.setPixelRatio(window.devicePixelRatio>1?2:1),ot.shadowMap.enabled=!0,ot.shadowMap.type=o.ntZ,a.scene.background=new o.Ilk(c.backgroundColor);var it=new o.cPb(75,window.innerWidth/window.innerHeight,.1,1e3),at=it.clone();it.position.x=-4,it.position.y=19,it.position.z=14,at.position.y=0,at.lookAt(0,1,0),a.scene.add(it,at);var ct=new o.Mig(c.lightColor,.8);a.scene.add(ct);var ut=50,st=new o.PMe(c.lightColor,1);st.castShadow=!0,st.shadow.mapSize.width=2048,st.shadow.mapSize.height=2048;var lt=st.clone(),ft=st.clone(),pt=st.clone();st.position.set(-50,ut,ut),lt.position.set(ut,ut,ut),ft.position.set(-50,ut,-50),pt.position.set(ut,ut,-50),a.scene.add(st,lt,ft,pt);var yt=new y.z(it,ot.domElement);yt.enableDamping=!0,a.world.gravity.set(0,-10,0);var mt=new r.kp(a.defaultMaterial,a.defaultMaterial,{friction:.3,restitution:.2}),ht=new r.kp(a.glassMaterial,a.defaultMaterial,{friction:1,restitution:0}),dt=new r.kp(a.playerMaterial,a.glassMaterial,{friction:1,restitution:0});a.world.defaultContactMaterial=mt,a.world.addContactMaterial(ht),a.world.addContactMaterial(dt);var bt=1.2,vt=10,wt=[],gt=(new C({name:"floor",x:0,y:0,z:0}),new S({name:"pillar",x:0,y:5.5,z:12*-1.2-.6})),Ot=new S({name:"pillar",x:0,y:5.5,z:14.999999999999998});wt.push(gt,Ot);for(var jt=new A({name:"bar",x:-1.6,y:10.3,z:0}),St=(new A({name:"bar",x:-.4,y:10.3,z:0}),new A({name:"bar",x:.4,y:10.3,z:0}),new A({name:"bar",x:1.6,y:10.3,z:0})),Pt=[],xt=0;xt<49;xt++)Pt.push(new q({name:"sideLight",container:jt.mesh,z:.5*xt-12}));for(var Mt=0;Mt<49;Mt++)Pt.push(new q({name:"sideLight",container:St.mesh,z:.5*Mt-12}));for(var Et=[],_t=[],Ct=0;Ct<vt;Ct++)_t.push(-(Ct*bt*2-9*bt));for(var Rt=0;Rt<vt;Rt++){switch(Math.round(Math.random())){case 0:Et=["normal","strong"];break;case 1:Et=["strong","normal"]}var Tt=new I({name:"glass-".concat(Et[0]),x:-1,y:10.5,z:_t[Rt],type:Et[0],cannonMaterial:a.glassMaterial,step:Rt+1}),Bt=new I({name:"glass-".concat(Et[1]),x:1,y:10.5,z:_t[Rt],type:Et[1],cannonMaterial:a.glassMaterial,step:Rt+1});wt.push(Tt,Bt)}var zt=new $({name:"player",x:0,y:13.9,z:13,rotationY:Math.PI,cannonMaterial:a.playerMaterial,mass:30});wt.push(zt);var kt=new o.iMs,At=new o.FM8;var Lt=!1,Dt=!1,qt=!1;function Nt(t){if(t.name.indexOf("glass")>=0){if(zt.actions[2].stop(),zt.actions[2].play(),Dt||Lt)return;if(t.step-1===c.step){if(Dt=!0,c.step++,"normal"===t.type)setTimeout((function(){Lt=!0,zt.actions[0].play(),zt.actions[1].play(),Pt.forEach((function(t){t.turnOff()})),setTimeout((function(){qt=!0,zt.cannonBody.position.y=9,setTimeout((function(){qt=!1}),3e3)}),2e3)}),700);setTimeout((function(){Dt=!1}),1e3),m.p8.to(zt.cannonBody.position,{duration:1,x:t.position.x,z:_t[c.step-1]}),m.p8.to(zt.cannonBody.position,{duration:.4,y:12}),c.step===vt&&"strong"===t.type&&setTimeout((function(){zt.actions[2].stop(),zt.actions[2].play(),m.p8.to(zt.cannonBody.position,{duration:1,x:0,z:-14}),m.p8.to(zt.cannonBody.position,{duration:.4,y:12})}),1500)}}}var Yt=new o.SUY;var Ft=new tt(rt);window.addEventListener("resize",(function(){it.aspect=window.innerWidth/window.innerHeight,it.updateProjectionMatrix(),ot.setSize(window.innerWidth,window.innerHeight),ot.render(a.scene,it)})),rt.addEventListener("click",(function(t){Ft.mouseMoved||(At.x=t.clientX/rt.clientWidth*2-1,At.y=-(t.clientY/rt.clientHeight*2-1),function(){kt.setFromCamera(At,it);var t,e=et(kt.intersectObjects(a.scene.children));try{for(e.s();!(t=e.n()).done;){Nt(t.value.object);break}}catch(t){e.e(t)}finally{e.f()}}())})),function t(){var e=Yt.getDelta();a.mixer&&a.mixer.update(e);var n=1/60;e<.012&&(n=1/120),a.world.step(n,e,3),wt.forEach((function(t){t.cannonBody&&("player"===t.name?(t.modelMesh&&(t.modelMesh.position.copy(t.cannonBody.position),Lt&&t.modelMesh.quaternion.copy(t.cannonBody.quaternion)),t.modelMesh.position.y+=.15):(t.mesh.position.copy(t.cannonBody.position),t.mesh.quaternion.copy(t.cannonBody.quaternion),t.modelMesh&&(t.modelMesh.position.copy(t.cannonBody.position),t.modelMesh.quaternion.copy(t.cannonBody.quaternion))))})),yt.update(),qt?(ot.render(a.scene,at),at.position.z=zt.cannonBody.position.z,at.position.x=zt.cannonBody.position.x):ot.render(a.scene,it),ot.setAnimationLoop(t)}()}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,n,o,i)=>{if(!n){var a=1/0;for(l=0;l<t.length;l++){for(var[n,o,i]=t[l],c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(r.O).every((t=>r.O[t](n[u])))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){t.splice(l--,1);var s=o();void 0!==s&&(e=s)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,o,i]},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,i,[a,c,u]=n,s=0;if(a.some((e=>0!==t[e]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var l=u(r)}for(e&&e(n);s<a.length;s++)i=a[s],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(l)},n=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=r.O(void 0,[494],(()=>r(811)));o=r.O(o)})();